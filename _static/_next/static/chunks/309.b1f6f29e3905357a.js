"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[309],{67309:function(t,n,r){r.r(n),r.d(n,{default:function(){return f}});var e=r(85893),i=r(90528),u=r(51163),o=function(){return(0,e.jsx)("div",{className:"mt-11 bg-gray-700 bg-opacity-20 py-3 px-5 rounded-lg text-white text-opacity-80",children:"For viewing favorites plz authorize!"})},c=r(4663),a=r(91711),f=function(){var t=(0,i.r)(),n=t.favoriteMovies,r=t.isLoading;return(0,u.a)().user?r?(0,e.jsx)("div",{className:"mt-11",children:(0,e.jsx)(c.Z,{count:3,className:"h-28 mb-4"})}):(0,e.jsx)(a.Z,{movies:(null===n||void 0===n?void 0:n.slice(0,3))||[],title:"Favorites",link:"/favorites"}):(0,e.jsx)(o,{})}},90528:function(t,n,r){r.d(n,{r:function(){return u}});var e=r(88767),i=r(48974),u=function(){var t=(0,e.useQuery)("favorite movies",(function(){return i.K.getFavorites()}),{select:function(t){return t.data}});return{isLoading:t.isLoading,favoriteMovies:t.data,refetch:t.refetch}}},48974:function(t,n,r){r.d(n,{K:function(){return c}});var e=r(47568),i=r(70655),u=r(84714),o=r(18016),c={getAll:function(t){return(0,e.Z)((function(){var n;return(0,i.__generator)(this,(function(r){return n={},[2,u.ZP.get((0,o.Il)(""),(n.params=t?{searchTerm:t}:{},n))]}))}))()},getProfile:function(){return(0,e.Z)((function(){return(0,i.__generator)(this,(function(t){return[2,u.ZP.get((0,o.Il)("/profile"))]}))}))()},getFavorites:function(){return(0,e.Z)((function(){return(0,i.__generator)(this,(function(t){return[2,u.ZP.get((0,o.Il)("/profile/favorites"))]}))}))()},toggleFavorite:function(t){return(0,e.Z)((function(){var n;return(0,i.__generator)(this,(function(r){return n={},[2,u.ZP.post((0,o.Il)("/profile/favorites"),(n.movieId=t,n))]}))}))()},updateProfile:function(t){return(0,e.Z)((function(){return(0,i.__generator)(this,(function(n){return[2,u.ZP.put((0,o.Il)("/profile"),t)]}))}))()},getById:function(t){return(0,e.Z)((function(){return(0,i.__generator)(this,(function(n){return[2,u.ZP.get((0,o.Il)("/".concat(t)))]}))}))()},update:function(t,n){return(0,e.Z)((function(){return(0,i.__generator)(this,(function(r){return[2,u.ZP.put((0,o.Il)("/".concat(t)),n)]}))}))()},deleteUser:function(t){return(0,e.Z)((function(){return(0,i.__generator)(this,(function(n){return[2,u.ZP.delete((0,o.Il)("/".concat(t)))]}))}))()}}}}]);