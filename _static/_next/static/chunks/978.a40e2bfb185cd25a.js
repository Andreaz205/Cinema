(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[978],{82026:function(e,r,n){"use strict";var t=n(85893),s=n(29550),o=n.n(s),i=n(41664),c=n.n(i),l=n(89583);r.Z=function(e){var r=e.slug;return(0,t.jsx)(c(),{href:"/auth?redirect=".concat((0,l.Xl)(r)),children:(0,t.jsx)("a",{className:o().btn,children:"Sign In"})})}},32978:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return h}});var t=n(85893),s=n(67294),o=n(51163),i=n(94184),c=n.n(i),l=n(80413),a=n.n(l),u=n(29550),d=n.n(u),f=n(82026),v=function(e){var r=e.slug;return(0,t.jsx)("div",{className:d().placeholder,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:"You must be logged in to start watching"}),(0,t.jsx)(f.Z,{slug:r})]})})},m=n(37416),h=function(e){var r=e.slug,n=e.videoSource,i=function(){var e,r=(0,s.useRef)(null),n=(0,s.useState)(!1),t=n[0],o=n[1],i=(0,s.useState)(0),c=i[0],l=i[1],a=(0,s.useState)(0),u=a[0],d=a[1],f=(0,s.useState)(0),v=f[0],m=f[1];(0,s.useEffect)((function(){var e,n=null===(e=r.current)||void 0===e?void 0:e.duration;n&&d(n)}),[null===(e=r.current)||void 0===e?void 0:e.duration]);var h=(0,s.useCallback)((function(){var e,n;t?(null===(e=r.current)||void 0===e||e.pause(),o(!1)):(null===(n=r.current)||void 0===n||n.play(),o(!0))}),[t]),p=function(){r.current&&(r.current.currentTime+=10)},_=function(){r.current&&(r.current.currentTime-=10)},x=function(){var e=r.current;e&&(e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullscreen?e.mozRequestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen())};return(0,s.useEffect)((function(){var e=r.current;if(e){var n=function(){l(e.currentTime),m(e.currentTime/u*100)};return e.addEventListener("timeupdate",n),function(){e.removeEventListener("timeupdate",n)}}}),[u]),(0,s.useEffect)((function(){var e=function(e){switch(e.key){case"ArrowRight":p();break;case"ArrowLeft":_();break;case" ":e.preventDefault(),h();break;case"f":x();break;default:return}};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[h]),(0,s.useMemo)((function(){return{videoRef:r,actions:{fullScreen:x,revert:_,forward:p,toggleVideo:h},video:{isPlaying:t,currentTime:c,progress:v,videoTime:u}}}),[h,t,c,v,u])}(),l=i.actions,u=i.video,d=i.videoRef,f=(0,o.a)().user;return(0,t.jsx)("div",{className:c()(a().wrapper,{"h-96":!f}),children:f?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("video",{ref:d,className:a().video,src:"".concat(n,"#t=8"),preload:"metadata"}),(0,t.jsx)("div",{className:a().progressBarContainer,children:(0,t.jsx)("div",{style:{width:"".concat(u.progress,"%")},className:a().progressBar})}),(0,t.jsxs)("div",{className:a().controls,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{onClick:l.revert,children:(0,t.jsx)(m.Z,{name:"MdHistory"})}),(0,t.jsx)("button",{onClick:l.toggleVideo,className:a().playButton,children:(0,t.jsx)(m.Z,{name:u.isPlaying?"MdPause":"MdPlayArrow"})}),(0,t.jsx)("button",{onClick:l.forward,children:(0,t.jsx)(m.Z,{name:"MdUpdate"})}),(0,t.jsxs)("div",{className:a().timeControls,children:[(0,t.jsx)("p",{className:a().controlsTime,children:Math.floor(u.currentTime/60)+":"+("0"+Math.floor(u.currentTime%60)).slice(-2)}),(0,t.jsx)("p",{children:" / "}),(0,t.jsx)("p",{className:a().controlsTime,children:Math.floor(u.videoTime/60)+":"+("0"+Math.floor(u.videoTime%60)).slice(-2)})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{onClick:l.fullScreen,children:(0,t.jsx)(m.Z,{name:"MdFullscreen"})})})]})]}):(0,t.jsx)(v,{slug:r})})}},29550:function(e){e.exports={placeholder:"AuthPlaceholder_placeholder__YVzcU",btn:"AuthPlaceholder_btn__989TG"}},80413:function(e){e.exports={wrapper:"VideoPlayer_wrapper__gbkFu",fade:"VideoPlayer_fade__lF84Y",controls:"VideoPlayer_controls__ZQx86",playButton:"VideoPlayer_playButton__D_Dp8",timeControls:"VideoPlayer_timeControls__9afR3",progressBarContainer:"VideoPlayer_progressBarContainer__KzbQm",progressBar:"VideoPlayer_progressBar__kOHsN"}}}]);