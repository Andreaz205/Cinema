(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{56896:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return t(37989)}])},59951:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});var n=t(26042),o=t(85893),i=t(73789),u=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/,a=function(e){var r=e.register,t=e.formState.errors,a=e.isPasswordRequired,s=void 0!==a&&a;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.Z,(0,n.Z)({placeholder:"E-mail",error:t.email},r("email",{required:"Email is required",pattern:{value:u,message:"Please enter a valid email address"}}))),(0,o.jsx)(i.Z,(0,n.Z)({placeholder:"Password",type:"password",error:t.password},r("password",s?{required:"Password is required",minLength:{value:6,message:"Min length should be more 6 symbols"}}:{})))]})}},10073:function(e,r,t){"use strict";var n=t(26042),o=t(69396),i=t(99534),u=t(85893),a=t(94184),s=t.n(a),c=t(15262),l=t.n(c);r.Z=function(e){var r=e.children,t=e.className,a=(0,i.Z)(e,["children","className"]);return(0,u.jsx)("button",(0,o.Z)((0,n.Z)({className:s()(l().button,t)},a),{children:r}))}},73789:function(e,r,t){"use strict";var n=t(26042),o=t(99534),i=t(85893),u=t(67294),a=t(94184),s=t.n(a),c=t(15262),l=t.n(c),f=(0,u.forwardRef)((function(e,r){var t=e.placeholder,u=e.error,a=e.type,c=void 0===a?"text":a,f=e.style,d=(0,o.Z)(e,["placeholder","error","type","style"]);return(0,i.jsxs)("div",{className:s()(l().common,l().field),style:f,children:[(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:t}),(0,i.jsx)("input",(0,n.Z)({type:c,ref:r},d))]}),u&&(0,i.jsx)("div",{className:l().error,children:u.message})]})}));f.displayName="Field",r.Z=f},62289:function(e,r,t){"use strict";var n=t(85893);r.Z=function(e){var r=e.title,t=e.className;return(0,n.jsx)("h1",{className:"text-white text-opacity-80 font-semibold ".concat((null===t||void 0===t?void 0:t.includes("xl"))?"":"text-3xl"," ").concat(t),children:r})}},48974:function(e,r,t){"use strict";t.d(r,{K:function(){return a}});var n=t(47568),o=t(70655),i=t(84714),u=t(18016),a={getAll:function(e){return(0,n.Z)((function(){var r;return(0,o.__generator)(this,(function(t){return r={},[2,i.ZP.get((0,u.Il)(""),(r.params=e?{searchTerm:e}:{},r))]}))}))()},getProfile:function(){return(0,n.Z)((function(){return(0,o.__generator)(this,(function(e){return[2,i.ZP.get((0,u.Il)("/profile"))]}))}))()},getFavorites:function(){return(0,n.Z)((function(){return(0,o.__generator)(this,(function(e){return[2,i.ZP.get((0,u.Il)("/profile/favorites"))]}))}))()},toggleFavorite:function(e){return(0,n.Z)((function(){var r;return(0,o.__generator)(this,(function(t){return r={},[2,i.ZP.post((0,u.Il)("/profile/favorites"),(r.movieId=e,r))]}))}))()},updateProfile:function(e){return(0,n.Z)((function(){return(0,o.__generator)(this,(function(r){return[2,i.ZP.put((0,u.Il)("/profile"),e)]}))}))()},getById:function(e){return(0,n.Z)((function(){return(0,o.__generator)(this,(function(r){return[2,i.ZP.get((0,u.Il)("/".concat(e)))]}))}))()},update:function(e,r){return(0,n.Z)((function(){return(0,o.__generator)(this,(function(t){return[2,i.ZP.put((0,u.Il)("/".concat(e)),r)]}))}))()},deleteUser:function(e){return(0,n.Z)((function(){return(0,o.__generator)(this,(function(r){return[2,i.ZP.delete((0,u.Il)("/".concat(e)))]}))}))()}}},45495:function(e,r,t){"use strict";t.d(r,{Z:function(){return f}});var n=t(85893),o=t(9008),i=t.n(o),u=t(11163),a="Online cinema",s=function(e){return"".concat(e," | ").concat(a)},c=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=e.replace(/<[^>]+>/g,"").replace(/&[^;]+./g," ").replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,"");return r&&(t=t.slice(0,r)+"..."),t},l=t(76983),f=function(e){var r=e.title,t=e.description,o=e.image,f=e.children,d=(0,u.useRouter)().asPath,p="".concat("http://localhost:3000").concat(d);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i(),{children:[(0,n.jsx)("title",{itemProp:"headline",children:s(r)}),t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("meta",{itemProp:"description",name:"description",content:c(t,152)}),(0,n.jsx)("link",{rel:"canonical",href:p}),(0,n.jsx)("meta",{property:"og:locale",content:"en"}),(0,n.jsx)("meta",{property:"og:title",content:s(r)}),(0,n.jsx)("meta",{property:"og:url",content:p}),(0,n.jsx)("meta",{property:"og:image",content:o||l.Z}),(0,n.jsx)("meta",{property:"og:site_name",content:a}),(0,n.jsx)("meta",{property:"og:description",content:c(t,197)})]}):(0,n.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]}),f]})}},37989:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return v}});var n=t(85893),o=t(6248),i=t.n(o),u=t(87536),a=t(47568),s=t(70655),c=t(88767),l=t(48974),f=t(88116),d=t(16938),p=t(62289),m=t(59951),_=t(10073),h=t(45495),g=t(4663),x=function(){var e=(0,u.cI)({mode:"onChange"}),r=e.handleSubmit,t=e.register,o=e.formState,x=function(e){var r=(0,c.useQuery)("profile",(function(){return l.K.getProfile()}),{onSuccess:function(r){var t=r.data;e("email",t.email)},onError:function(e){(0,f._)(e,"Get profile")}}).isLoading,t=(0,c.useMutation)("update profile",(function(e){return l.K.updateProfile(e)}),{onError:function(e){(0,f._)(e,"Update profile")},onSuccess:function(){d.Rt.success("Update profile","update was successful")}}).mutateAsync,n=function(){var e=(0,a.Z)((function(e){return(0,s.__generator)(this,(function(r){switch(r.label){case 0:return[4,t(e)];case 1:return r.sent(),[2]}}))}));return function(r){return e.apply(this,arguments)}}();return{onSubmit:n,isLoading:r}}(e.setValue),Z=x.isLoading,v=x.onSubmit;return(0,n.jsxs)(h.Z,{title:"Profile",children:[(0,n.jsx)(p.Z,{title:"Profile",className:"mb-6"}),(0,n.jsxs)("form",{onSubmit:r(v),className:i().form,children:[Z?(0,n.jsx)(g.Z,{count:2}):(0,n.jsx)(m.Z,{isPasswordRequired:!1,register:t,formState:o}),(0,n.jsx)(_.Z,{children:"Update"})]})]})},Z=function(){return(0,n.jsx)(x,{})};Z.isOnlyUser=!0;var v=Z},6248:function(e){e.exports={form:"Profile_form__HZCuT"}},15262:function(e){e.exports={button:"form_button__zzx8l",common:"form_common__5EpHn",field:"form_field__KLTjc",error:"form_error__hunHi",editorWrapper:"form_editorWrapper__lvmGd",wrapper:"form_wrapper__in9Fw",toolbar:"form_toolbar__xTi0C",editor:"form_editor__dPpWP",uploadField:"form_uploadField__mJYFJ",uploadFlex:"form_uploadFlex__qWZSd",uploadImageContainer:"form_uploadImageContainer__yrxr7",fade:"form_fade__r_rtw"}}},function(e){e.O(0,[536,774,888,179],(function(){return r=56896,e(e.s=r);var r}));var r=e.O();_N_E=r}]);