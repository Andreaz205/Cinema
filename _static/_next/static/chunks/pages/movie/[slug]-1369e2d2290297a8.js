(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[226],{10957:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/movie/[slug]",function(){return e(26747)}])},90528:function(t,n,e){"use strict";e.d(n,{r:function(){return o}});var r=e(88767),i=e(48974),o=function(){var t=(0,r.useQuery)("favorite movies",(function(){return i.K.getFavorites()}),{select:function(t){return t.data}});return{isLoading:t.isLoading,favoriteMovies:t.data,refetch:t.refetch}}},606:function(t,n,e){"use strict";var r=e(14924),i=e(85893),o=e(67294),a=e(90528),s=e(88767),u=e(48974),c=e(88116),l=e(94184),f=e.n(l),d=e(85386),m=e.n(d);n.Z=function(t){var n=t.movieId,e=(0,o.useState)(!1),l=e[0],d=e[1],_=(0,a.r)(),v=_.favoriteMovies,x=_.refetch;(0,o.useEffect)((function(){if(v){var t=v.some((function(t){return t._id===n}));l!==t&&d(t)}}),[v,l,n]);var h=(0,s.useMutation)("update favorites",(function(){return u.K.toggleFavorite(n)}),{onError:function(t){(0,c._)(t,"Update favorite list")},onSuccess:function(){d(!l),x()}}).mutateAsync;return(0,i.jsx)("button",{onClick:function(){return h()},className:f()(m().button,(0,r.Z)({},m().animate,l)),style:{backgroundImage:"url(https://i.ibb.co/HzKjmwd/heart-animation.png"}})}},29226:function(t,n,e){"use strict";var r=e(85893),i=e(98511),o=e.n(i),a=e(97047);n.Z=function(t){var n=t.items;return(0,r.jsx)("div",{className:o().gallery,children:n.map((function(t){return(0,r.jsx)(a.Z,{item:t,variant:"vertical"},t.link)}))})}},97047:function(t,n,e){"use strict";var r=e(14924),i=e(85893),o=e(98511),a=e.n(o),s=e(41664),u=e.n(s),c=e(94184),l=e.n(c),f=e(25675),d=e.n(f);n.Z=function(t){var n,e=t.item,o=t.variant;return(0,i.jsx)(u(),{href:e.link,children:(0,i.jsxs)("a",{className:l()(a().item,(n={},(0,r.Z)(n,a().withText,e.content),(0,r.Z)(n,a().horizontal,"horizontal"===o),(0,r.Z)(n,a().vertical,"vertical"===o),n)),children:[(0,i.jsx)(d(),{src:e.posterPath,alt:e.name,layout:"fill",draggable:!1,priority:!0}),e.content&&(0,i.jsxs)("div",{className:a().content,children:[(0,i.jsx)("div",{className:a().title,children:e.content.title}),e.content.subTitle&&(0,i.jsx)("div",{className:a().subTitle,children:e.content.subTitle})]})]})})}},62289:function(t,n,e){"use strict";var r=e(85893);n.Z=function(t){var n=t.title,e=t.className;return(0,r.jsx)("h1",{className:"text-white text-opacity-80 font-semibold ".concat((null===e||void 0===e?void 0:e.includes("xl"))?"":"text-3xl"," ").concat(e),children:n})}},71365:function(t,n,e){"use strict";var r=e(85893);n.Z=function(t){var n=t.title;return(0,r.jsx)("h2",{className:"text-white text-xl mb-5 font-semibold",children:n})}},48974:function(t,n,e){"use strict";e.d(n,{K:function(){return s}});var r=e(47568),i=e(70655),o=e(84714),a=e(18016),s={getAll:function(t){return(0,r.Z)((function(){var n;return(0,i.__generator)(this,(function(e){return n={},[2,o.ZP.get((0,a.Il)(""),(n.params=t?{searchTerm:t}:{},n))]}))}))()},getProfile:function(){return(0,r.Z)((function(){return(0,i.__generator)(this,(function(t){return[2,o.ZP.get((0,a.Il)("/profile"))]}))}))()},getFavorites:function(){return(0,r.Z)((function(){return(0,i.__generator)(this,(function(t){return[2,o.ZP.get((0,a.Il)("/profile/favorites"))]}))}))()},toggleFavorite:function(t){return(0,r.Z)((function(){var n;return(0,i.__generator)(this,(function(e){return n={},[2,o.ZP.post((0,a.Il)("/profile/favorites"),(n.movieId=t,n))]}))}))()},updateProfile:function(t){return(0,r.Z)((function(){return(0,i.__generator)(this,(function(n){return[2,o.ZP.put((0,a.Il)("/profile"),t)]}))}))()},getById:function(t){return(0,r.Z)((function(){return(0,i.__generator)(this,(function(n){return[2,o.ZP.get((0,a.Il)("/".concat(t)))]}))}))()},update:function(t,n){return(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){return[2,o.ZP.put((0,a.Il)("/".concat(t)),n)]}))}))()},deleteUser:function(t){return(0,r.Z)((function(){return(0,i.__generator)(this,(function(n){return[2,o.ZP.delete((0,a.Il)("/".concat(t)))]}))}))()}}},45495:function(t,n,e){"use strict";e.d(n,{Z:function(){return f}});var r=e(85893),i=e(9008),o=e.n(i),a=e(11163),s="Online cinema",u=function(t){return"".concat(t," | ").concat(s)},c=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=t.replace(/<[^>]+>/g,"").replace(/&[^;]+./g," ").replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,"");return n&&(e=e.slice(0,n)+"..."),e},l=e(76983),f=function(t){var n=t.title,e=t.description,i=t.image,f=t.children,d=(0,a.useRouter)().asPath,m="".concat("http://localhost:3000").concat(d);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{itemProp:"headline",children:u(n)}),e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("meta",{itemProp:"description",name:"description",content:c(e,152)}),(0,r.jsx)("link",{rel:"canonical",href:m}),(0,r.jsx)("meta",{property:"og:locale",content:"en"}),(0,r.jsx)("meta",{property:"og:title",content:u(n)}),(0,r.jsx)("meta",{property:"og:url",content:m}),(0,r.jsx)("meta",{property:"og:image",content:i||l.Z}),(0,r.jsx)("meta",{property:"og:site_name",content:s}),(0,r.jsx)("meta",{property:"og:description",content:c(e,197)})]}):(0,r.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]}),f]})}},5838:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return a}});var r=e(85893),i=e(45495),o=e(62289);function a(){return(0,r.jsx)(i.Z,{title:"Page not found",children:(0,r.jsx)(o.Z,{title:"404 - Page Not Found"})})}},26747:function(t,n,e){"use strict";e.r(n),e.d(n,{__N_SSG:function(){return G},default:function(){return E}});var r=e(85893),i=e(5838),o=e(45495),a=e(5496),s=e.n(a),u=e(25675),c=e.n(u),l=function(t){var n=t.image,e=t.Detail;return(0,r.jsxs)("div",{className:s().banner,children:[(0,r.jsx)(c(),{src:n,draggable:!1,layout:"fill",className:"image-like-bg object-top",unoptimized:!0,priority:!0,alt:""}),e&&(0,r.jsx)(e,{})]})},f=e(71365),d=e(29226),m=e(46751),_=e.n(m),v=e(67294),x=e(89323),h=e.n(x),g=e(41664),p=e.n(g),j=function(t){var n=t.links,e=t.name;return(0,r.jsxs)("div",{className:h().list,children:[(0,r.jsx)("div",{className:h().name,children:e}),(0,r.jsx)("div",{className:h().links,children:n.map((function(t,e){return(0,r.jsxs)(v.Fragment,{children:[(0,r.jsx)(p(),{href:t.link,children:(0,r.jsx)("a",{children:t.title})}),e+1!==n.length?", ":""]},e)}))})]})},b=e(89583),Z=e(37416),y=e(606),F=function(t){var n=t.movie;return(0,r.jsxs)("div",{className:_().content,children:[(0,r.jsx)("h1",{children:n.title}),(0,r.jsxs)("div",{className:_().details,children:[(0,r.jsxs)("span",{children:[n.parameters.year," . "]}),(0,r.jsxs)("span",{children:[n.parameters.country," . "]}),(0,r.jsxs)("span",{children:[n.parameters.duration," min."]})]}),(0,r.jsx)(j,{name:"Genres",links:n.genres.slice(0,3).map((function(t){return{_id:t._id,link:(0,b.i8)(t.slug),title:t.name}}))}),(0,r.jsx)(j,{name:"Actors",links:n.actors.slice(0,3).map((function(t){return{_id:t._id,link:(0,b.F_)(t.slug),title:t.name}}))}),(0,r.jsxs)("div",{className:_().rating,children:[(0,r.jsx)(Z.Z,{name:"MdStarRate"}),(0,r.jsx)("span",{children:n.rating.toFixed(1)})]}),(0,r.jsx)(y.Z,{movieId:n._id})]})},N=e(5152),k=e.n(N),P=e(88767),w=e(76962),C=k()((function(){return e.e(978).then(e.bind(e,32978))}),{loadableGenerated:{webpack:function(){return[32978]}},ssr:!1}),D=k()((function(){return e.e(906).then(e.bind(e,84906))}),{loadableGenerated:{webpack:function(){return[84906]}},ssr:!1}),I=function(t){var n=t.movie,e=t.similarMovies;return function(t){var n=(0,P.useMutation)("update count opened",(function(){return w.u.updateCountOpened(t)})).mutateAsync;(0,v.useEffect)((function(){n()}),[])}(n.slug),(0,r.jsxs)(o.Z,{title:n.title,description:"Watch ".concat(n.title),children:[(0,r.jsx)(l,{image:n.bigPoster,Detail:function(){return(0,r.jsx)(F,{movie:n})}}),(0,r.jsx)(C,{videoSource:n.videoUrl,slug:n.slug}),(0,r.jsxs)("div",{className:"mt-12",children:[(0,r.jsx)(f.Z,{title:"Similar"}),(0,r.jsx)(d.Z,{items:e})]}),(0,r.jsx)(D,{slug:n.slug,id:n._id})]})},G=!0,E=function(t){var n=t.movie,e=t.similarMovies;return n?(0,r.jsx)(I,{similarMovies:e||[],movie:n}):(0,r.jsx)(i.default,{})}},46751:function(t){t.exports={content:"Content_content__qxXfW",rating:"Content_rating__zKZon",details:"Content_details__0w6RG"}},89323:function(t){t.exports={list:"ContentList_list__txfiV",name:"ContentList_name__klRS3",links:"ContentList_links__cd0qI"}},85386:function(t){t.exports={button:"FavoriteButton_button__4HnpL",animate:"FavoriteButton_animate__4b8kX","heart-burst":"FavoriteButton_heart-burst__jgos5"}},5496:function(t){t.exports={banner:"Banner_banner__Xpiqz"}},98511:function(t){t.exports={gallery:"Gallery_gallery__CuT0n",item:"Gallery_item__eQKOi",vertical:"Gallery_vertical__cZ4bD",horizontal:"Gallery_horizontal__bgSxA",withText:"Gallery_withText__gpvco",content:"Gallery_content__EeavS",title:"Gallery_title__8woBC",subTitle:"Gallery_subTitle__y43Ea"}}},function(t){t.O(0,[774,888,179],(function(){return n=10957,t(t.s=n);var n}));var n=t.O();_N_E=n}]);